<!DOCTYPE html>
<html>
  <head>
    <link type="text/css" rel="stylesheet" href="stylesheet.css"/>
    <title>G O B E A R S</title>
    <script>
      function showMeme() {
        FB.api(
          "/1717731545171536/feed?limit=100",
          function (response) {
            if (response && !response.error) {
      			  response.data.map(function(meme) {
                id = meme.id;
                FB.api(
                  id + "/attachments",
                  function (response2) {
                    if (response2 && !response2.error) {
                      var parent = document.getElementById('meme')
                      var p = document.createElement('p')
                      var img = document.createElement('img')
                      var node = document.createTextNode(meme.message)
                      p.appendChild(node)
                      img.src = response2.data[0].media.image.src
                      parent.appendChild(p)
                      parent.appendChild(img)
                    }
                  }
                );
              });
            }
          }
        );
        );
      }
    </script>
  </head>
  <body>
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId            : '501471210204416',
          autoLogAppEvents : true,
          xfbml            : true,
          version          : 'v2.10'
        });
        FB.getLoginStatus(function(response) {
          if (response.status === 'connected') {
            console.log('Logged in.');
          }
          else {
            FB.login();
          }
        });
        FB.AppEvents.logPageView();
      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    </script>
    <h1>uc berkeley memes for edgy teeeeeeeens 2.0 EECS edition</h1>
    <p>apparently you can't have a readme and an index.html</p>
    <p>W A R N I N G: This is now an A D V A N C E D website. I have learned how to load 100 memes at a time.</p>
    <p>pls make me a mod</p>
    <p>Facebook SDK is connected! But currently in developer mode, so only I can access</p>
    <fb:login-button scope="public_profile,email">
    </fb:login-button>
    <p>If you want to support this website pay me $12</p>
    <div id='meme'>
      <button type="button" onclick="showMeme()">Load 100 memes</button>
      <p id="title"></p>
      <img id="image"></p>
    </div>

  </body>
</html>
